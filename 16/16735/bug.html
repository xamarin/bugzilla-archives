<html lang="en"><head>
    <title>16735 â€“ 10x slowdown between boehm -&gt; sgen on this profile</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<style>/* js/yui/assets/skins/sam/autocomplete.css */
.yui-skin-sam .yui-ac{position:relative;font-family:arial;font-size:100%}.yui-skin-sam .yui-ac-input{position:absolute;width:100%}.yui-skin-sam .yui-ac-container{position:absolute;top:1.6em;width:100%}.yui-skin-sam .yui-ac-content{position:absolute;width:100%;border:1px solid #808080;background:#fff;overflow:hidden;z-index:9050}.yui-skin-sam .yui-ac-shadow{position:absolute;margin:.3em;width:100%;background:#000;-moz-opacity:.10;opacity:.10;filter:alpha(opacity=10);z-index:9049}.yui-skin-sam .yui-ac iframe{opacity:0;filter:alpha(opacity=0);padding-right:.3em;padding-bottom:.3em}.yui-skin-sam .yui-ac-content ul{margin:0;padding:0;width:100%}.yui-skin-sam .yui-ac-content li{margin:0;padding:2px 5px;cursor:default;white-space:nowrap;list-style:none;zoom:1}.yui-skin-sam .yui-ac-content li.yui-ac-prehighlight{background:#b3d4ff}.yui-skin-sam .yui-ac-content li.yui-ac-highlight{background:#426fd9;color:#FFF}
/* js/yui/assets/skins/sam/calendar.css */
.yui-calcontainer{position:relative;float:left;_overflow:hidden}.yui-calcontainer iframe{position:absolute;border:0;margin:0;padding:0;z-index:0;width:100%;height:100%;left:0;top:0}.yui-calcontainer iframe.fixedsize{width:50em;height:50em;top:-1px;left:-1px}.yui-calcontainer.multi .groupcal{z-index:1;float:left;position:relative}.yui-calcontainer .title{position:relative;z-index:1}.yui-calcontainer .close-icon{position:absolute;z-index:1;text-indent:-10000em;overflow:hidden}.yui-calendar{position:relative}.yui-calendar .calnavleft{position:absolute;z-index:1;text-indent:-10000em;overflow:hidden}.yui-calendar .calnavright{position:absolute;z-index:1;text-indent:-10000em;overflow:hidden}.yui-calendar .calheader{position:relative;width:100%;text-align:center}.yui-calcontainer .yui-cal-nav-mask{position:absolute;z-index:2;margin:0;padding:0;width:100%;height:100%;_width:0;_height:0;left:0;top:0;display:none}.yui-calcontainer .yui-cal-nav{position:absolute;z-index:3;top:0;display:none}.yui-calcontainer .yui-cal-nav .yui-cal-nav-btn{display:-moz-inline-box;display:inline-block}.yui-calcontainer .yui-cal-nav .yui-cal-nav-btn button{display:block;*display:inline-block;*overflow:visible;border:0;background-color:transparent;cursor:pointer}.yui-calendar .calbody a:hover{background:inherit}p#clear{clear:left;padding-top:10px}.yui-skin-sam .yui-calcontainer{background-color:#f2f2f2;border:1px solid #808080;padding:10px}.yui-skin-sam .yui-calcontainer.multi{padding:0 5px 0 5px}.yui-skin-sam .yui-calcontainer.multi .groupcal{background-color:transparent;border:0;padding:10px 5px 10px 5px;margin:0}.yui-skin-sam .yui-calcontainer .title{background:url(../../js/yui/assets/skins/sam/sprite.png) repeat-x 0 0;border-bottom:1px solid #ccc;font:100% sans-serif;color:#000;font-weight:bold;height:auto;padding:.4em;margin:0 -10px 10px -10px;top:0;left:0;text-align:left}.yui-skin-sam .yui-calcontainer.multi .title{margin:0 -5px 0 -5px}.yui-skin-sam .yui-calcontainer.withtitle{padding-top:0}.yui-skin-sam .yui-calcontainer .calclose{background:url(../../js/yui/assets/skins/sam/sprite.png) no-repeat 0 -300px;width:25px;height:15px;top:.4em;right:.4em;cursor:pointer}.yui-skin-sam .yui-calendar{border-spacing:0;border-collapse:collapse;font:100% sans-serif;text-align:center;margin:0}.yui-skin-sam .yui-calendar .calhead{background:transparent;border:0;vertical-align:middle;padding:0}.yui-skin-sam .yui-calendar .calheader{background:transparent;font-weight:bold;padding:0 0 .6em 0;text-align:center}.yui-skin-sam .yui-calendar .calheader img{border:0}.yui-skin-sam .yui-calendar .calnavleft{background:url(../../js/yui/assets/skins/sam/sprite.png) no-repeat 0 -450px;width:25px;height:15px;top:0;bottom:0;left:-10px;margin-left:.4em;cursor:pointer}.yui-skin-sam .yui-calendar .calnavright{background:url(../../js/yui/assets/skins/sam/sprite.png) no-repeat 0 -500px;width:25px;height:15px;top:0;bottom:0;right:-10px;margin-right:.4em;cursor:pointer}.yui-skin-sam .yui-calendar .calweekdayrow{height:2em}.yui-skin-sam .yui-calendar .calweekdayrow th{padding:0;border:0}.yui-skin-sam .yui-calendar .calweekdaycell{color:#000;font-weight:bold;text-align:center;width:2em}.yui-skin-sam .yui-calendar .calfoot{background-color:#f2f2f2}.yui-skin-sam .yui-calendar .calrowhead,.yui-skin-sam .yui-calendar .calrowfoot{color:#a6a6a6;font-size:85%;font-style:normal;font-weight:normal;border:0}.yui-skin-sam .yui-calendar .calrowhead{text-align:right;padding:0 2px 0 0}.yui-skin-sam .yui-calendar .calrowfoot{text-align:left;padding:0 0 0 2px}.yui-skin-sam .yui-calendar td.calcell{border:1px solid #ccc;background:#fff;padding:1px;height:1.6em;line-height:1.6em;text-align:center;white-space:nowrap}.yui-skin-sam .yui-calendar td.calcell a{color:#06c;display:block;height:100%;text-decoration:none}.yui-skin-sam .yui-calendar td.calcell.today{background-color:#000}.yui-skin-sam .yui-calendar td.calcell.today a{background-color:#fff}.yui-skin-sam .yui-calendar td.calcell.oom{background-color:#ccc;color:#a6a6a6;cursor:default}.yui-skin-sam .yui-calendar td.calcell.oom a{color:#a6a6a6}.yui-skin-sam .yui-calendar td.calcell.selected{background-color:#fff;color:#000}.yui-skin-sam .yui-calendar td.calcell.selected a{background-color:#b3d4ff;color:#000}.yui-skin-sam .yui-calendar td.calcell.calcellhover{background-color:#426fd9;color:#fff;cursor:pointer}.yui-skin-sam .yui-calendar td.calcell.calcellhover a{background-color:#426fd9;color:#fff}.yui-skin-sam .yui-calendar td.calcell.previous{color:#e0e0e0}.yui-skin-sam .yui-calendar td.calcell.restricted{text-decoration:line-through}.yui-skin-sam .yui-calendar td.calcell.highlight1{background-color:#cf9}.yui-skin-sam .yui-calendar td.calcell.highlight2{background-color:#9cf}.yui-skin-sam .yui-calendar td.calcell.highlight3{background-color:#fcc}.yui-skin-sam .yui-calendar td.calcell.highlight4{background-color:#cf9}.yui-skin-sam .yui-calendar a.calnav{border:1px solid #f2f2f2;padding:0 4px;text-decoration:none;color:#000;zoom:1}.yui-skin-sam .yui-calendar a.calnav:hover{background:url(../../js/yui/assets/skins/sam/sprite.png) repeat-x 0 0;border-color:#a0a0a0;cursor:pointer}.yui-skin-sam .yui-calcontainer .yui-cal-nav-mask{background-color:#000;opacity:.25;filter:alpha(opacity=25)}.yui-skin-sam .yui-calcontainer .yui-cal-nav{font-family:arial,helvetica,clean,sans-serif;font-size:93%;border:1px solid #808080;left:50%;margin-left:-7em;width:14em;padding:0;top:2.5em;background-color:#f2f2f2}.yui-skin-sam .yui-calcontainer.withtitle .yui-cal-nav{top:4.5em}.yui-skin-sam .yui-calcontainer.multi .yui-cal-nav{width:16em;margin-left:-8em}.yui-skin-sam .yui-calcontainer .yui-cal-nav-y,.yui-skin-sam .yui-calcontainer .yui-cal-nav-m,.yui-skin-sam .yui-calcontainer .yui-cal-nav-b{padding:5px 10px 5px 10px}.yui-skin-sam .yui-calcontainer .yui-cal-nav-b{text-align:center}.yui-skin-sam .yui-calcontainer .yui-cal-nav-e{margin-top:5px;padding:5px;background-color:#edf5ff;border-top:1px solid black;display:none}.yui-skin-sam .yui-calcontainer .yui-cal-nav label{display:block;font-weight:bold}.yui-skin-sam .yui-calcontainer .yui-cal-nav-mc{width:100%;_width:auto}.yui-skin-sam .yui-calcontainer .yui-cal-nav-y input.yui-invalid{background-color:#ffee69;border:1px solid #000}.yui-skin-sam .yui-calcontainer .yui-cal-nav-yc{width:4em}.yui-skin-sam .yui-calcontainer .yui-cal-nav .yui-cal-nav-btn{border:1px solid #808080;background:url(../../js/yui/assets/skins/sam/sprite.png) repeat-x 0 0;background-color:#ccc;margin:auto .15em}.yui-skin-sam .yui-calcontainer .yui-cal-nav .yui-cal-nav-btn button{padding:0 8px;font-size:93%;line-height:2;*line-height:1.7;min-height:2em;*min-height:auto;color:#000}.yui-skin-sam .yui-calcontainer .yui-cal-nav .yui-cal-nav-btn.yui-default{border:1px solid #304369;background-color:#426fd9;background:url(../../js/yui/assets/skins/sam/sprite.png) repeat-x 0 -1400px}.yui-skin-sam .yui-calcontainer .yui-cal-nav .yui-cal-nav-btn.yui-default button{color:#fff}
/* skins/standard/global.css */
body {font-family: sans-serif;color: #000;background: #fff url(../../skins/standard/global/body-back.gif) repeat-x;}body, td, th, input, dt, #titles {font-family: Verdana, sans-serif;font-size: small;}pre, code, kbd {font-size: medium;}#bugzilla-body {clear: both;}#bugzilla-body th {font-weight: bold;vertical-align: top;}#header {margin-bottom: 1em;}#header form, #header form input,#footer form, #footer form input{font-size: 95%;display: inline;}#header .links {border-left: 1px solid #747E93;border-right: 1px solid #747E93;border-bottom: 1px solid #747E93;border-bottom-left-radius: 5px;border-bottom-right-radius: 5px;padding: 0.5em;}#lang_links_container {float: right;white-space: nowrap;}#lang_links_container .links {border: none;padding: .5em;}.lang_current {font-weight: bold;}#message {border: 1px solid red;margin: 0.3em 0em;padding: 0.3em;color: green;}form.mini_login input.bz_login  {width: 10em;}form.mini_login input.bz_password {width: 6em;}form.mini_login input.bz_remember {margin: 0;}#banner {}#titles {width: 100%;background-color: #404D6C;color: #fff;border-top-left-radius: 5px;border-top-right-radius: 5px;margin: 0;vertical-align: bottom;display: table;}#titles a {color: #fff;}#titles p {margin: 0;padding: 0;}#titles #title {font-weight: bold;padding: 0.5em;white-space: nowrap;display: table-cell;}#titles #subtitle {font-weight: normal;text-align: center;padding: 0.5em;display: table-cell;}#titles #information {font-weight: normal;text-align: right;font-size: 90%;padding: 0.5em;white-space: nowrap;display: table-cell;}#footer {clear: both;margin-top: 1em;width: 100%;background: #edf2f2;border-top: 1px solid #ddd;border-bottom: 1px solid #ddd;}#footer #useful-links {padding-left: 1ex;padding-right: 1ex;}#footer ul {list-style-type: none;}#links-saved ul {display: inline;}#links-saved th {vertical-align: top;}#footer .label {white-space: nowrap;vertical-align: top;}#footer .links {vertical-align: top;}ul.links {margin: 0;padding: 0;list-style-type: none;}ul.links li {display: inline;white-space: nowrap;}table.tabs {width: 100%;}.tabs th, .tabs td {padding: 1em;}.tabs td {background: #eee;text-align: center;border-style: solid;border-color: black;border-width: 0px 0px 2px 0px;}.tabs td.selected {background: white;border-width: 2px 2px 0px 2px;}.tabs td.spacer {background: white;}a {color: #039;}a:visited {color: #636;}a:hover {color: #333;}a:active {color: #000;}.clickable_area {cursor: pointer;}textarea {font-family: monospace;}a.controller {font-size: 115%;}div#docslinks {float: right;border: 1px solid black;padding: 1ex;font-size: 80%;}#docslinks h2 {margin: 0;}.rss {background: transparent url(../../skins/standard/../../images/rss_small.png) no-repeat;padding-left: 16px;line-height: 1.5em;}.bz_bug_link {}.bz_bug_link.bz_status_UNCONFIRMED {font-style: italic;}.bz_obsolete {text-decoration: line-through;}.bz_inactive {text-decoration: line-through;}.bz_closed,.bz_CLOSED td {text-decoration: line-through;}.bz_private {color: darkred;background: #f3eeee;}.bz_disabled {color: #a0a0a0;}.bz_comment_table td {vertical-align: top;}.bz_comment {margin-bottom: 2em;}.bz_comment_text, .uneditable_textarea, tbody.file pre {font-family: monospace;white-space: pre-wrap;}.bz_comment_text {width: 50em;}.bz_comment_text span.quote {color: #65379c;white-space: pre;overflow: auto;display: block;}.bz_comment_user, .bz_comment_time, .bz_comment_number,.bz_private_checkbox, .bz_comment_actions{margin: 0 .5em;}.bz_comment_actions, .bz_comment_number, .bz_private_checkbox {float: right;}.bz_collapse_expand_comments {padding: 0;margin: 0 0 0 1em;list-style-type: none;}.bz_collapse_expand_comments li {margin-bottom: .5em;}.bz_collapse_comment {text-decoration: none;}.bz_private_checkbox input {margin: 0;vertical-align: middle;}.bz_comment_head, .bz_first_comment_head {padding-top: .1em;padding-bottom: .1em;padding-left: .5em;background-color: #e0e0e0;}.bz_comment_user_images img {vertical-align: bottom;}.bz_comment_hilite pre {background-color: lightgreen;margin: 0;padding: 1em 0;}.bz_comment_collapse_reason,.bz_default_collapsed .bz_comment_number {font-weight: normal;}.bz_default_hidden, .bz_tui_hidden, .bz_hidden_field, .bz_hidden_option {display: none !important;}table#flags th,table#flags td {vertical-align: middle;text-align: left;}#email_prefs, #saved_search_prefs, #shared_search_prefs,#bug_activity {border: 1px solid black;border-collapse: collapse;}#email_prefs th,#shared_search_prefs th,#saved_search_prefs th {text-align: center;}#email_prefs th, #email_prefs td,#shared_search_prefs th, #shared_search_prefs td,#saved_search_prefs th, #saved_search_prefs td,#bug_activity td {border: 1px solid;padding: 0.3em;}#email_prefs th.role_header {width: 10%;}#bug_activity td {vertical-align: top;}#user_prefs th, #user_prefs td {padding: 0.5em;}#permissions {margin-left: auto;margin-right: auto;width: 40em;}#permissions p {margin-top: 2em;margin-bottom: 0.5em;}#permissions li {list-style-type: none;}#permissions table td {vertical-align: top;}.column_header {background-color: #66f;}.column_header th {text-align: center;}.flag_select {min-width: 3em;}input.requestee {width: 15em;}#error_msg {font-size: x-large;}#post_err_msg, form#check {clear: both;}.warning {color: red;}.throw_error {background-color: red;color: black;font-size: 120%;margin-bottom: 2em;padding: 0.5em 1em;float: left;}.label {font-weight: bold;}.throw_error a:visited {color: darkblue ;}dt {font-weight: bold;}body > dl > dt {border-top: dotted gray thin;}dl dl > dt {border-top: none;}.arrow_button {font-size: 150%;}#attachment_table {border-collapse: collapse;border: 1px solid #333333;}#attachment_table th, .bz_attach_footer, .bz_time_tracking_table th,.dependency_tree_controls {background-color: #E0E0E0;color: black;}#attachment_table td, .bz_time_tracking_table th, .bz_time_tracking_table td {border: 1px solid #333333;}#attachment_table th, #attachment_table td {padding: 0.3em;}.bz_attach_extra_info, .bz_info {font-size: smaller;}.bz_attach_flags, .bz_attach_footer, .bz_flags, .nowrap {white-space: nowrap;}.bz_attach_view_hide {float: right;padding-left: 1em;}#user_match_table {border-collapse: collapse;}#user_match_table td {vertical-align: top;border-bottom: 1px solid black;padding: 1em 0.5em;}div.user_match {margin-bottom: 1em;}.indented {margin-left: 3em;}.box {border: 1px solid black;color: black;background-color: #ffc;margin: 1em;padding: 0.5em 1em;}.collapsed,.bz_default_collapsed .bz_private_checkbox,.bz_default_collapsed .bz_comment_user,.bz_default_collapsed .bz_comment_user_images,.bz_default_collapsed .bz_comment_time,.bz_default_collapsed .bz_comment_tags,.bz_default_collapsed .bz_comment_text,.bz_default_collapsed .bz_collapsed_actions{display: none;}#serverpush_msg {margin-top: 20%;text-align: center;font-size: xx-large;}@media print {#header, #footer {display: none;}div.bz_query_buttons {display: none;}body {background-image: none;background-color: #fff;}}.field_label {text-align: right;vertical-align: top;font-weight: bold;}.field_help_link {cursor: help;}.field_value, form#Create th, form#Create td, .top {vertical-align: top;}.bottom {vertical-align: bottom;}.field_value .text_input {width: 100%;min-width: 25em;}.uneditable_textarea {max-width: 30em;font-size: medium;}th.required:before {content: "* ";}th.required:before, span.required_star {color: red;}input.required, select.required, span.required_explanation {background-color: #fff7cd;color: #000;}.calendar_button {background: transparent url(../../skins/standard/global/calendar.png) no-repeat;width: 20px;height: 20px;vertical-align: middle;}.calendar_button span { display: none }.yui-calcontainer {display: none;background-color: white;padding: 10px;border: 1px solid #404D6C;}.bug_urls {margin: 0;padding: 0;list-style-type: none;}pre.field_textarea_readonly {margin: 2px;padding: 4px;overflow: auto;float: left;max-width: 30em;max-height: 7em;border: 1px solid #CCC;font-family: monospace;white-space: pre-wrap;}.yui-skin-sam .yui-ac-input { position:static !important;vertical-align:middle !important; }.yui-skin-sam .yui-ac-container { left:0px !important; }.yui-skin-sam .yui-ac { display: inline-block; }#bugzilla-body .yui-ac-content {max-height: 19em;overflow: auto;overflow-x: hidden;}#keywords_container {padding-top: .2em;}#keywords_container .yui-ac-content {margin-left: -1px;}#comment_tabs {border-spacing: 0;}.comment_tab {display: table-cell;border: 1px solid silver;padding: 2px 1em;cursor: pointer;background: transparent;}.active_comment_tab {background: #fff;font-weight: bold;}#comment_preview {border: 1px solid silver;padding: 1px;overflow: auto;margin: 0px;}#comment_preview_text {margin: 0px;width: auto;}#comment_preview_loading {font-style: italic;}#comment {margin: 0px 0px 1em 0px;}.validation_error_text {font-size: 120%;color: #B70000;font-weight: bold;}.validation_error_field, input.validation_error_field {border: 2px solid #B70000;background-color: #FFEBEB;}form th {text-align: right;}.left {text-align: left;}.center {text-align: center;}.right {text-align: right;}.middle {vertical-align: middle;}.inline {display: inline;}tr.shared_search {background-color: #fff7cd;color: #000;}.multi-columns {columns: 3;-moz-columns: 3;-webkit-columns: 3;}#page-index {padding: 0.2em 0.2em 0.15em 0.2em;max-width: 1000px;}.intro, .outro {text-align: center;}#new_release {border: 2px solid red;padding: 0.5em 1em;margin: 1em;font-weight: bold;}#new_release .notice {font-size: 80%;font-weight: normal;}#welcome-admin a {font-weight: bold;}.bz_common_actions {text-align: center;}.bz_common_actions ul {list-style-type: none;padding: 0;}.bz_common_actions ul li {display: inline;vertical-align: top;}.bz_common_actions ul li a {display: inline-block;height: 170px;width: 145px;margin: 0 2ex 2em 0;}.bz_common_actions ul li a span {position: relative;top: 90%;font-weight: bold;}.bz_common_actions a,.bz_common_actions a:visited,.bz_common_actions a:hover {text-decoration: none;}#enter_bug { background: url(../../skins/standard/index/file-a-bug.png)  no-repeat; }#query     { background: url(../../skins/standard/index/search.png)      no-repeat; }#account   { background: url(../../skins/standard/index/new-account.png) no-repeat; }#help      { background: url(../../skins/standard/index/help.png)        no-repeat; }#quicksearchForm {clear: both;text-align: center;margin-bottom: 2em;}#quicksearchForm #quicksearch_main {width: 27em;}#quicksearchForm {margin: 0;padding: 0;}#page-index table {border-collapse: collapse;margin: auto;}#welcome {font-size: x-large;font-weight: bold;text-align: center;margin: 0 0 0.8em 0;padding: 0;}#common_queries ul {list-style: none;padding-left: 1.5em;}#common_queries li a {text-decoration: none;}ul#quicksearch_links {margin-bottom: 1em;}ul.additional_links {list-style: none;margin: 0;padding: 0;}ul.additional_links li {display: inline;}ul.additional_links li.bz_default_hidden {display: none;}body.narrow_page #bugzilla-body > * {max-width: 45em;}.req_new {color: red;}.req_table {border-collapse: collapse;}.req_table td, .req_table th {border: 1px solid black;padding: .25em;}.qs_help li {margin-top: 1ex;}.qs_fields th {padding: 0 .25em;}.qs_fields th.field_nickname {text-align: left;}.qs_fields td {padding: .25em;border-top: 1px solid gray;}.qs_fields .field_name {width: 10em;}table.field_value_explanation {table-layout: fixed;border-collapse: collapse;}.field_value_explanation thead h2 {margin: 0;}.field_value_explanation .header_row td {text-align: center;font-size: 120%;font-weight: bold;}.field_value_explanation tbody td {border: 1px solid black;padding: 1em;}.field_value_explanation dt, .field_descriptions dt {margin-top: 1em;}.field_descriptions dt {font-size: 120%;}#duplicates_table {border-collapse: collapse;}#duplicates_table .resolved {background-color: #d9d9d9;color: black;}#duplicates_table thead tr {background-color: #ccc;color: black;}#duplicates_table thead tr th {vertical-align: middle;}#duplicates_table td, #duplicates_table th {border: 1px solid black;padding: .1em .25em;}#duplicates_table tbody td {text-align: center;}#duplicates_table tbody td.short_desc {text-align: left;}
/* skins/standard/bug.css */
.enter_bug_form table {border-spacing: 0;border-width: 0;}.enter_bug_form td, .enter_bug_form th {padding: .25em;}.enter_bug_form th {text-align: right;}#Create #field_container_component {width: 1px;}#Create #field_container_reporter {width: 100%;}#Create .comment, #guided_form #description {vertical-align: top;overflow: auto;color: green;}#guided_form #description {display: inline;margin-left: 10px;}#Create #comp_desc_container td {padding: 0;}#Create #comp_desc {height: 11ex;}#Create #os_guess_note {padding-top: 0;}#Create #os_guess_note div {max-width: 35em;}#Create .field_value .text_input {max-width: 50em;}#possible_duplicates th {text-align: center;background: none;border-collapse: collapse;}#possible_duplicates td {vertical-align: middle;}#possible_duplicates .yui-dt-col-update_token {white-space: nowrap;}table#flags th, table#flags td,table#bug_flags th, table#bug_flags td,table#attachment_flags th, table#attachment_flags td {text-align: left;vertical-align: baseline;font-size: small;}.guided_form_field {background-color: #ffc;}#somebugs {width: 100%;height: 500px;}.good {color: #090;}.bad {color: #900;}.bz_short_desc_container {margin: 8px 0;padding: 0.3em;background-color: rgb(208, 208, 208);border-radius: 0.5em;font-size: 125%;font-weight: bold;}.bz_bug .edit_form {width: 100%;}.bz_bug .edit_form table {width: 100%;}.bz_bug #alias {min-width: 0;width: 10em;}table#flags {width: auto;}.bz_column_spacer {width: 0.5em;}.related_actions {font-size: 0.85em;float: right;list-style-type: none;white-space: nowrap;margin: 0;padding: 0;}.related_actions li {display: inline;}.navigation_link {color: #777;font-style: italic;}.bz_show_bug_column {vertical-align: top;}.bz_section_spacer {height: 1em;}#duplicate_settings {white-space: nowrap;}#bz_big_form_parts td {vertical-align: top;}.bz_group_visibility_section {margin-left: 1em;}.bz_group_visibility_section .instructions {font-style: italic;}#bz_restrict_group_visibility_help .instructions {margin-top: 0;}#bz_enable_role_visibility_help {margin-top: 1em;}.bz_time_tracking_table {border-collapse: collapse;}.bz_time_tracking_table th {text-align: center;}.bz_time_tracking_table td {text-align: center;}.bz_time_tracking_table th,.bz_time_tracking_table td {padding: 4px;}.bz_time_tracking_table .bz_summarize_time {text-align: right;}.bz_time_tracking_table #deadline {width: 7em;}#summary tr td {vertical-align:top;}#status {margin-bottom: 3ex;}.knob-buttons {float: right;}.text_input, .bz_userfield, #keywords_container, #tag_container {width: 100%;}.bz_bug .bz_short_desc_container {width: inherit;}.bz_comment_tags {margin-top: 3px;}.bz_comment_tag {border: 1px solid #c8c8ba;padding: 1px 3px;margin-right: 2px;border-radius: 0.5em;background-color: #eee;color: #000;}#bz_ctag_div {display: inline-block;}#bz_ctag_error {border: 1px solid #ff6666;padding: 0px 2px;border-radius: 0.5em;margin: 2px;display: inline-block;}#comment_tags_collapse_expand_container {padding-top: 1em;}#comment_tags_collapse_expand {list-style-type: none;padding-left: 1em;}#comment_tags_collapse_expand li {margin-bottom: 0px;}ul.tree {padding-left: 0em;margin-left: 1em;display: block;}ul.tree ul {padding-top: 3px;display: block;}ul.tree li {padding-top: 3px;text-indent: -1.2em;padding-left: 0.5em;padding-bottom: 3px;list-style-type: none;background: url(../../skins/standard/dependency-tree/bug-item.png) no-repeat;}ul.tree li a.b {padding-left: 30px;margin-right: -14px;text-decoration: none;}ul.tree li a.b_open {background: url(../../skins/standard/dependency-tree/tree-open.png) center no-repeat;cursor: pointer;}ul.tree li a.b_closed {background: url(../../skins/standard/dependency-tree/tree-closed.png) center no-repeat;cursor: pointer;}ul.tree a.tree_link img {border: 0;}.summ_info {display: none;font-size: 75%;}.hint {font-size: 90%;margin: 0.2em;padding: 0.1em;}.hint h3, .hint ul {margin-top: 0.1em;margin-bottom: 0.1em;}.summ A, .summ_deep A {text-decoration: none;color: darkblue;}.summ_h A {background-color: #ffffaa;color: #333;font-weight: bold;}.dependency_tree_controls input[type=submit] {min-width: 3em;}table.attachment_entry th {text-align: right;vertical-align: baseline;white-space: nowrap;}table.attachment_entry td {text-align: left;vertical-align: baseline;padding-bottom: 5px;}.file_head {font-weight: bold;font-size: 1em;background-color: #c3c3c3;border: 1px solid black;}.file_head a {text-decoration: none;font-family: monospace;font-size: 1.1em;}.file_collapse {display: none;}.section_head {background-color: #f0f0f0;border: 1px solid black;text-align: left;padding: 0.2em;}.section_head .link_here {float: right;padding-left: 1em;padding-right: 0.5em;}.lines_count a {padding-left: 0.5em;padding-right: 1em;}table.file_table {table-layout: fixed;width: 100%;empty-cells: show;border-spacing: 0px;border-collapse: collapse;border-bottom: 1px solid black;}tbody.file pre {display: inline;font-size: 0.9em;}tbody.file pre:empty {display: block;}.changed {background-color: lightblue;}.added {background-color: lightgreen;}.removed {background-color: #FFCC99;}.num {background-color: #ffe9ae;text-align:right;padding: 0 0.3em;width: 3em;}table.attachment_info th {text-align: right;vertical-align: top;}table.attachment_info td {text-align: left;vertical-align: top;}#noview {text-align: left;vertical-align: middle;}#attachment_attributes div {padding-bottom: 0.4em;}#attachment_attributes label {font-weight: bold;}#attachment_attributes .block {display: block;}#smallCommentFrame, #attachment_flags {float: left;}#smallCommentFrame {margin-right: 1.5em;}#attachment_comments_and_flags, #attachment_actions {clear: both;margin-bottom: 1ex;}#attachment_information_read_only .title {font-weight: bold;font-size: 1.5em;padding: 0;margin: 0;}#attachment_information_read_only .title #bz_edit {font-size: 0.7em;}#attachment_information_read_only .details {font-size: 90%;}#attachment_info.read #attachment_information_edit {display: none;}#attachment_info.edit #attachment_information_read_only {display: none;}#attachment_info.edit #attachment_view_window {float: left;width: 80%;}#attachment_info.edit #attachment_information_edit {width: 20%;}#attachment_info.edit #attachment_information_edit input.text,#attachment_info.edit #attachment_information_edit textarea {width: 90%;}#attachment_isobsolete {padding-right: 1em;}#attachment_information_edit {float: left;}#smallCommentFrame textarea {display: block;}textarea.bz_private {border: 1px solid #F8C8BA;}#update {clear: both;display: block;}div#update_container {clear: both;padding: 1.5em 0;}#attachment_flags {margin-bottom: 1em;}#attachment_flags p {padding-bottom: 0;margin-bottom: 0;}#editFrame, #viewDiffFrame, #viewFrame {height: 400px;width: 95%;margin-left: 2%;}.viewall_frame_container {width: 75%;margin: 2em auto;}.viewall_desc {width: 100%;border: 1px solid black;border-spacing: 0px;border-collapse: collapse;}.viewall_desc th, .viewall_desc td {border: 1px solid black;padding: 0.3em;}.viewall_frame {width: 100%;height: 350px;}.no_javascript .bz_hide, .no_javascript .bz_edit {display: none;}#hidden_obsolete_message {text-align: left;width: 75%;margin: 0  auto;font-weight: bold;}
/* skins/contrib/Dusk/global.css */
body {background: #c8c8c8;font-family: Helvetica, Arial, Geneva;padding-left: 1em;padding-right: 1em;}#titles {border-top-left-radius: 5px;border-top-right-radius: 5px;}#header .links, #footer {background-color: #929bb1;color: #ddd;}#header {border-bottom-left-radius: 5px;border-bottom-right-radius: 5px;border: none;}#header a, #footer a {color: white;text-decoration: none;}#header a:hover, #footer a:hover {text-decoration: underline;}#bugzilla-body {background: #f0f0f0;color: black;border: 1px solid #747e93;padding: 10px;font-size: 10pt;border-radius: 5px;}a {color: #6070cf;}a:hover {color: #8090ef;}hr {border-color: #969696;border-style: dashed;border-width: 1px;margin-top: 10px;}#bug-form td {padding-top: 2px;}#attachment-list {border: 2px solid #c8c8ba;font-size: 9pt;}#attachment-list th {background-color: #e6e6d8;border: none;border-bottom: 1px solid #c8c8ba;text-align: left;}#attachment-list th a {color: #646456;}#attachment-list td {border: none;}#attachment-list-actions td {border-top: 1px solid #c8c8ba;}#comments th {font-size: 9pt;font-weight: bold;padding-top: 5px;padding-right: 5px;padding-bottom: 10px;text-align: right;vertical-align: top;white-space: nowrap;}#comments td {padding-top: 2px;}.reply-button a {padding-left: 2px;padding-right: 2px;}.bz_comment {background-color: #e8e8e8;margin: 1px 1px 10px 1px;border-width: 1px;border-style: solid;border-color: #c8c8ba;padding: 5px;font-size: 9pt;}.bz_comment_head, .bz_first_comment_head {margin: 0; padding: 0;background-color: transparent;font-weight: bold;}.bz_comment_user {margin-left: 0;}.bz_comment.bz_private {background-color: #f0e8e8;border-color: #f8c8ba;}.comment_rule {display: none;}#footer {border: 1px solid #747e93;width: 100%;border-radius: 5px;}#footer #links-actions,#footer #links-edit,#footer #links-saved,#footer #links-special {margin-top: 2ex;}#footer .links {border-spacing: 30px;margin-bottom: 2ex;}.separator {color: #cccccc;}.tabbed .tabbody {background: #f8f8f8;padding: 1em;border-style: solid;border-color: #000000;border-width: 0 3px 3px 1px;}.tabs {margin: 0;padding: 0;border-collapse: collapse;}.tabs td {background: #c8c8c8;border-width: 1px;}.tabs td.selected {background: #f8f8f8;border-width: 1px 3px 0 1px;}.tabs td.spacer {background: transparent;border-top: none;border-left: none;border-right: none;}.bz_row_odd {background-color: #f0f0f0;}#page-index .outro {clear:both;}@media print {#header,#footer,.navigation {display: none;}body {background-image: none;background-color: #ffffff;}#bugzilla-body {border: none;margin: 0;padding: 0;}}
</style>

<style>/* skins/custom/global.css */
#banner > div {border-radius: 5px;}#banner a {color: #6070cf}
</style>

    


    


    

    
    <link rel="search" type="application/opensearchdescription+xml" title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico"><link href="https://c.s-microsoft.com/mscc/statics/mscc-0.4.1.min.css" rel="stylesheet" type="text/css">

      

    <style>.wrapper {
    margin: 0 auto;
    box-sizing: border-box;
    -ms-box-sizing: border-box;
}

#global-footer {
    background-color: #354b60;
}

#global-footer li,#global-footer ul {
    list-style: none;
    padding: 0;
    border: 0;
    margin: 0;
    font: inherit;
    color: inherit;
    line-height: normal
}

#global-footer footer {
    margin-top: 60px;
    background: rgba(44,62,80,.5);
    clear: both;
    padding: 30px;
    margin: 0;
    font-size: 14px;
    color: #ecf0f1;
}

#global-footer footer .wrapper {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
    -ms-flex-align: center;
    /* align-items:center; */
    -webkit-box-pack: justify;
    -ms-flex-pack: justify;
    justify-content: space-between;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
}

#global-footer footer .microsoft-logo img {
    display: block;
    margin: 0 auto;
    width: 110px;
}

#global-footer footer .contact {
    text-align: left
}

#global-footer footer .legal {
    text-align: right
}

#global-footer footer a,#global-footer footer span {
    padding: 0 10px
}

#global-footer footer a {
    color: inherit;
    text-decoration: none;
}

#global-footer footer a:hover {
    color: #fff;
    text-decoration: none;
}

#global-footer .sub-footer {
    background-color: #233140;
    color: hsla(0,0%,100%,.7);
    font-size: 14px;
    padding: 3px;
    -webkit-font-smoothing: antialiased;
    -moz-font-smoothing: antialiased
}

@media (max-width: 992px) {
    html:not(.non-responsive) #global-footer footer {
        padding:0
    }

    html:not(.non-responsive) #global-footer footer .wrapper {
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
        -ms-flex-direction: column;
        flex-direction: column;
        max-width: 430px
    }

    html:not(.non-responsive) #global-footer footer .microsoft-logo {
        -webkit-box-ordinal-group: 1;
        -ms-flex-order: 0;
        order: 0
    }

    html:not(.non-responsive) #global-footer footer .wrapper>:not(.microsoft-logo) {
        -webkit-box-ordinal-group: 2;
        -ms-flex-order: 1;
        order: 1
    }

    html:not(.non-responsive) #global-footer footer .contact,html:not(.non-responsive) #global-footer footer .legal,html:not(.non-responsive) #global-footer footer .microsoft-logo {
        float: none;
        padding: 20px 0;
        text-align: center
    }

    html:not(.non-responsive) #global-footer footer .contact,html:not(.non-responsive) #global-footer footer .legal {
        padding-top: 0
    }
}
</style>
  </head>

  <body class="bugzilla-xamarin-com
                 bz_bug
                 bz_status_RESOLVED
                 bz_product_Runtime
                 bz_component_GC
                 bz_bug_16735 yui-skin-sam">

  <div id="header">

    <div id="titles">
      <span id="title">Bugzilla â€“ Bug&nbsp;16735</span>

        <span id="subtitle" class="subheader">10x slowdown between boehm -&gt; sgen on this profile</span>

        <span id="information" class="header_addl_info">Last modified: 2014-04-20 20:57:44 UTC</span>
    </div>


    <div id="common_links">
    </div>
  </div>

  <div id="bugzilla-body">




<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2014-04-20 20:57:44">
  <input type="hidden" name="id" value="16735">
  <input type="hidden" name="token" value="1559188572-lVqYVnV2zidLk3ShnpBO-xRv8neJXtDlAeEYtbZi4-w">
<div class="bz_short_desc_container edit_form">
     <a href="bug.html"><b>Bug&nbsp;16735</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">10x slowdown between boehm -&gt; sgen on this profile</span>
     </span>

    <div id="summary_input"><span class="field_label " id="field_label_short_desc">


  <a title="The bug summary is a short sentence which succinctly describes what the bug is about." class="field_help_link" href="#">Summary:</a>

</span>10x slowdown between boehm -&gt; sgen on this profile
    </div>
  </div>
  
  <table class="edit_form">
    <tbody><tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">
        <table>
          <tbody><tr>
    <th class="field_label">
      <a href="#">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FEATURE
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label " id="field_label_alias">


  <a title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla." class="field_help_link" href="#">Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label " id="field_label_product">


  <a title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list." class="field_help_link" href="#">Product:</a>

</th>
  <td class="field_value " id="field_container_product">Runtime

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label " id="field_label_classification">


  <a title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation." class="field_help_link" href="#">Classification:</a>

</th>
  <td class="field_value " id="field_container_classification">Mono

</td>
    </tr>
    
    
    
    <tr><th class="field_label " id="field_label_component">


  <a title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list." class="field_help_link" href="#">Component:</a>

</th>
  <td class="field_value " id="field_container_component">GC

  ()
</td>
    </tr>
    <tr><th class="field_label " id="field_label_version">


  <a title="The version field defines the version of the software the bug was found in." class="field_help_link" href="#">Version:</a>

</th>
<td>3.2.x
  </td>
    </tr>
    
    
    
    <tr><th class="field_label " id="field_label_rep_platform">


  <a title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;." class="field_help_link" href="#">Hardware:</a>

</th>
      <td class="field_value">PC
        Linux
      </td>
    </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
      <th class="field_label">
        <label accesskey="i">
          <a href="#"><u>I</u>mportance</a></label>:
      </th>
      <td>---
       normal
      </td>
    </tr>

      <tr><th class="field_label " id="field_label_target_milestone">


  <a title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it." class="field_help_link" href="#">Target Milestone:</a>

</th><td>---
  </td>
      </tr>

          <tr><th class="field_label " id="field_label_assigned_to">


  <a title="The person in charge of resolving the bug." class="field_help_link" href="#">Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Bugzilla</span>
</span>
      </td>
    </tr>

    
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label " id="field_label_bug_file_loc">


  <a title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen." class="field_help_link" href="#">URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label " id="field_label_dependson">


  <a title="The bugs listed here must be resolved before this bug can be resolved." class="field_help_link" href="#">Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>

  <tr><th class="field_label " id="field_label_blocked">


  <a title="This bug must be resolved before the bugs listed in this field can be resolved." class="field_help_link" href="#">Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>

        </tbody></table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tbody><tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2013-12-11 11:09 UTC by <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
    </td>
  </tr>

  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2014-04-20 20:57 UTC
      (<a href="activity.html">History</a>)
    </td>

  </tr>
<tr>
      <th class="field_label">
        <label accesskey="a">
          CC List:
        </label>
      </th>
      <td>6
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="craig">craig</option>
                <option value="kumpera">kumpera</option>
                <option value="mark">mark</option>
                <option value="miguel">miguel</option>
                <option value="mono-bugs+mono">mono-bugs+mono</option>
                <option value="mono-bugs+runtime">mono-bugs+runtime</option>
            </select>
        </div>
          
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr>
      <th class="field_label " id="field_label_cf_tags">


  <a title="A custom Free Text field in this installation of Bugzilla." class="field_help_link" href="#">Tags:</a>

</th>
  <td class="field_value " id="field_container_cf_tags">

</td>
    </tr>
    <tr>
      <th class="field_label " id="field_label_cf_bug_regression">


  <a title="If this bug is not a regression select no, otherwise select yes and complete the &quot;last known good build&quot; entry." class="field_help_link" href="#">Is this bug a regression?:</a>

</th>
  <td class="field_value " id="field_container_cf_bug_regression">---

</td>
    </tr>
    <tr>
      <th class="field_label  bz_hidden_field" id="field_label_cf_bug_regression_build">


  <a title="What is the last known good build? (e.g. C7, 4.5.x, etc.)" class="field_help_link" href="#">Last known good build:</a>

</th>
  <td class="field_value  bz_hidden_field" id="field_container_cf_bug_regression_build">

</td>
    </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </tbody></table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </tbody></table>

  <table id="bz_big_form_parts">
  <tbody><tr>
  <td>

    


<br>
<table id="attachment_table">
  <tbody><tr id="a0">
    <th colspan="2" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_application_x-bzip2">
        <td>
            <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5637&amp;file=test.tar.bz2" title="View the content of the attachment">
          <b>the simplified application with the 10x disparity</b></a>

          <span class="bz_attach_extra_info">
              (1.79 MB,
                application/x-bzip2)

            <br>
            <a href="#attach_5637" title="Go to the comment associated with the attachment">2013-12-11 11:09 UTC</a>,

            <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
          </span>
        </td>


        <td>
          <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5637&amp;file=test.tar.bz2">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_application_x-bzip2">
        <td>
            <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5753&amp;file=test%20revised.tar.bz2" title="View the content of the attachment">
          <b>The new test, faster and corrects excessive allocation</b></a>

          <span class="bz_attach_extra_info">
              (1.79 MB,
                application/x-bzip2)

            <br>
            <a href="#attach_5753" title="Go to the comment associated with the attachment">2014-01-03 17:48 UTC</a>,

            <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
          </span>
        </td>


        <td>
          <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5753&amp;file=test%20revised.tar.bz2">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5754&amp;file=sgen%20stats.log" title="View the content of the attachment">
          <b>sgen run with mono --stats</b></a>

          <span class="bz_attach_extra_info">
              (6.53 KB,
                application/octet-stream)

            <br>
            <a href="#attach_5754" title="Go to the comment associated with the attachment">2014-01-03 19:50 UTC</a>,

            <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
          </span>
        </td>


        <td>
          <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5754&amp;file=sgen%20stats.log">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5755&amp;file=boehm%20stats.log" title="View the content of the attachment">
          <b>boehm run with mono --stats</b></a>

          <span class="bz_attach_extra_info">
              (5.19 KB,
                application/octet-stream)

            <br>
            <a href="#attach_5755" title="Go to the comment associated with the attachment">2014-01-03 19:51 UTC</a>,

            <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
          </span>
        </td>


        <td>
          <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5755&amp;file=boehm%20stats.log">Details</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_application_x-gzip">
        <td>
            <a href="https://bugzilla.xamarin.com/attachment.cgi?id=6590&amp;file=TestMonoGC.tar.gz" title="View the content of the attachment">
          <b>Crashes Mono/sgen when running in MonoDevelop</b></a>

          <span class="bz_attach_extra_info">
              (2.35 KB,
                application/x-gzip)

            <br>
            <a href="#attach_6590" title="Go to the comment associated with the attachment">2014-04-16 06:10 UTC</a>,

            <span class="vcard"><span class="fn">Craig Minihan</span>
</span>
          </span>
        </td>


        <td>
          <a href="https://bugzilla.xamarin.com/attachment.cgi?id=6590&amp;file=TestMonoGC.tar.gz">Details</a>
        </td>
      </tr>

  
</tbody></table>
<br>

  </td>
  <td>
  </td>
  </tr></tbody></table>
<hr>

<div id="add_comment" class="bz_section_additional_comments">
<div class="box" style="margin: 1px 1px 10px 1px; max-width: 47.8em">
    <p>
        <strong>Notice (2018-05-24)</strong>: bugzilla.xamarin.com is now in
        <strong>read-only</strong> mode.
    </p>
    <p>
        Please join us on
        <a href="https://developercommunity.visualstudio.com/spaces/8/index.html">
        Visual Studio Developer Community</a> and in the
        <a href="https://github.com/xamarin">Xamarin</a> and
        <a href="https://github.com/mono">Mono</a> organizations on
        GitHub to continue tracking issues. Bugzilla will remain
        available for reference in read-only mode. We will continue to work
        on <strong>open</strong> Bugzilla bugs, copy them to the new locations
        as needed for follow-up, and add the new items under <strong>Related
        Links</strong>.
    </p>
    <p>
        Our sincere thanks to everyone who has contributed on this bug
        tracker over the years. Thanks also for your understanding as we
        make these adjustments and improvements for the future.
    </p>
    <hr><p>
        <strong>Please create a new report</strong> on 
            <a href="https://github.com/mono">GitHub</a> or <a href="https://docs.microsoft.com/visualstudio/ide/how-to-report-a-problem-with-visual-studio-2017">Developer Community</a> with
        your current version information, steps to reproduce, and relevant error
        messages or log files if you are hitting an issue that looks similar to
        this resolved bug and you do not yet see a matching new report.
    </p>
</div>

    <div style="margin: 4ex 0">
        <table><tbody><tr><th class="field_label " id="field_label_see_also">


  <a title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields." class="field_help_link" href="#">Related Links:</a>

</th>
  <td class="field_value " id="field_container_see_also">

</td>
    </tr>
        </tbody></table>
    </div>

    <table id="bug_status_bottom" class="status">
        <tbody><tr>
            <th class="field_label">
                <a href="#">Status</a>:
            </th>
            <td><div id="status">RESOLVED

    <noscript><br>resolvedÂ asÂ </noscript>

  <span id="resolution_settings">FEATURE
  </span>

</div>


            </td>
        </tr>
    </tbody></table>

</div>
    <hr>

  
  <div id="comments">




<!-- This auto-sizes the comments and positions the collapse/expand links
     to the right. -->
<table class="bz_comment_table">
<tbody><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a href="bug.html">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-12-11 11:09:43 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="https://bugzilla.xamarin.com/attachment.cgi?id=5637&amp;file=test.tar.bz2" name="attach_5637" title="the simplified application with the 10x disparity">attachment 5637</a> <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5637&amp;file=test.tar.bz2" title="the simplified application with the 10x disparity">[details]</a></span>
the simplified application with the 10x disparity

As posted on the mono-revel-list, have an application that is run on 10 threads which uses 9+ cores with the boehm collector and approximately 2 cores with seen.  The total runtime has a nearly 10x difference. I am running this on a dual xeon E2630 with 12 real cores and 24 virtual on ubuntu 12.04 with a fairly recent build of mono (approximately 3.2.5).

I would like to be able to use sgen as run into the 32 bit barrier with boehm (which core dumps when i hit it).  With a 10x degradation on something that already takes 12 hours to run, cannot use seen currently.  Really appreciate an analyze on the working set of this app to see whether can determine a better profile for sgen or perhaps some tweak to the GC alg itself.

Running this on a smaller env on osx (8 threads) I saw that sgen did better than boehm (though only utilized 3 cores and boehm 1+ core).  The behavior on linux on 10 thread 2 cpus had the nice 10x profile for boehm and 2x for sgen.

I've included a scaled down application, where have faked the data sources, as an attachment.  There are 2 scripts:

- run-sgen
- run-boehm

these just run the application from the local dir with either sgen or boehm respectively.</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-12-11 11:11:25 UTC
        </span>

      </div>




<pre class="bz_comment_text">sorry my osx auto-correct mangled the above test.  1st paragraph should read:

As posted on the mono-devel-list, have an application that is run on 10 threads
making use of 9+ cores with the boehm collector and only 2 cores with
sgen.  The total runtime has a nearly 10x difference. I am running this on a
dual xeon E2630 with 12 real cores and 24 virtual on ubuntu 12.04 with a fairly
recent build of mono (approximately 3.2.5).</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rodrigo Kumpera</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-12-16 14:50:09 UTC
        </span>

      </div>




<pre class="bz_comment_text">Your problem is that sgen is using the serial major collector and boehm on linux defaults to the parallel one.

You should try to enable it by setting MONO_GC_PARAMS=marksweep-par and see if it makes any difference. As from properly measuring it locally that's the only difference I see between the two.</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Probst</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-12-18 19:51:00 UTC
        </span>

      </div>




<pre class="bz_comment_text">How long are these supposed to run?</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-12-30 14:19:44 UTC
        </span>

      </div>




<pre class="bz_comment_text">@Mark, with the included configuration, under boehm runs for 5377 secs and sgen 52912 secs.  I also tried MONO_GC_PARAMS='major=marksweep-par', with some improvement, but not much.

Boehm (default settings)
Performance counter stats for '/opt/mono-3.0/bin/mono-boehm --llvm /home/jonathan/Dev/hf/lib/Debug/FeatureGeneratorCSVFile.exe -info -config etc/samples/orderbook-2013-CX-V11.xml -out features-2013-CX.csv':

   48579862.522506 task-clock                #    9.034 CPUs utilized          
       188,866,824 context-switches          #    0.004 M/sec                  
            46,500 CPU-migrations            #    0.000 M/sec                  
         1,475,427 page-faults               #    0.000 M/sec                  
140,468,865,368,193 cycles                    #    2.892 GHz                    
   &lt;not supported&gt; stalled-cycles-frontend 
   &lt;not supported&gt; stalled-cycles-backend  
80,012,982,451,027 instructions              #    0.57  insns per cycle        
16,967,686,291,478 branches                  #  349.274 M/sec                  
    95,315,728,420 branch-misses             #    0.56% of all branches        

    5377.495775794 seconds time elapsed

SGen (default settings)
Performance counter stats for '/opt/mono-3.0/bin/mono-sgen --llvm /home/jonathan/Dev/hf/lib/Debug/FeatureGeneratorCSVFile.exe -info -config etc/samples/orderbook-2013-CX-V11.xml -out features-2013-CX.csv':

  108414200.651113 task-clock                #    2.049 CPUs utilized          
        65,792,604 context-switches          #    0.001 M/sec                  
            30,536 CPU-migrations            #    0.000 M/sec                  
       309,928,477 page-faults               #    0.003 M/sec                  
263,506,866,481,917 cycles                   #    2.431 GHz                    
   &lt;not supported&gt; stalled-cycles-frontend 
   &lt;not supported&gt; stalled-cycles-backend  
130,560,004,191,686 instructions             #    0.50  insns per cycle        
27,570,367,199,486 branches                  #  254.306 M/sec                  
   382,673,241,515 branch-misses             #    1.39% of all branches        

   52912.358974732 seconds time elapsed</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Probst</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-02 13:17:05 UTC
        </span>

      </div>




<pre class="bz_comment_text">The first thing I notice here is that the SGen run triggers around 200 times as many page faults, which is likely an indication that it's running out of RAM and using swap, which would obviously slows everything down.  That might explain a significant part of the difference in run time.</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-02 14:51:27 UTC
        </span>

      </div>




<pre class="bz_comment_text">@Mark, actually this machine has 128GB of memory and this process is using &lt; 2GB (on boehm) and probably no more than 2.9GB with sgen.   So for sure we are not going to swap here.   Lots of free memory.  The boehm version cannot even use more than 2^31 (or is it less).</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Probst</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-02 18:12:37 UTC
        </span>

      </div>




<pre class="bz_comment_text">Running on Boehm on 64 bits, after 2h 40m, I get

schani@ubuntu:~/Work/mono/bugs/<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed" title="RESOLVED FEATURE - 10x slowdown between boehm -> sgen on this profile" href="bug.html">bug16735</a>/test$ time ./run-boehm
Mono Warning: --llvm not enabled in this runtime.
INFO  [2014-01-02 11:33:19.865]: loading config
INFO  [2014-01-02 11:33:19.930]: generating &amp; writing features to: /dev/null
INFO  [2014-01-02 11:33:20.976]: generating features for: 2013-3-7
INFO  [2014-01-02 11:33:20.976]: generating features for: 2013-3-29
INFO  [2014-01-02 11:33:20.979]: generating features for: 2013-3-14
INFO  [2014-01-02 11:33:20.979]: generating features for: 2013-3-20
Too many heap sections: Increase MAXHINCR or MAX_HEAP_SECTS

...</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-02 18:27:18 UTC
        </span>

      </div>




<pre class="bz_comment_text">I have an artificial heap alloc in the test to simulate the data buffers used in against a massive time series DB we have.  I can remove these allocs and see whether helps.   Can also reduce the dates in the config to the # of threads to reduce the runtime. 

I'll provide a new test without the allocs and also run a 4 thread test on a smaller config and provide a comparison.</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-03 17:47:16 UTC
        </span>

      </div>




<pre class="bz_comment_text">Ok, I adjusted the test program. I had a bug in the scaled down version which did more allocation then it should have.   Now the test (with 4 dates on 4 cores runs in ~10mins with boehm), however, it takes 2x as long with sgen.

I modified the test config to include more dates and run on 8 cores.  sgen was only able to use 2-3 cores on average and boehm 7-8 cores.   I changed this back to 4 cores, since you seem to be testing on a system with fewer cores.

I will upload a new test which runs property and should duplicate the results below.  The tar is called:  test-revised.tar.bz2

Here are the perf stats:

-- sgen --
    3521837.766373 task-clock                #    2.323 CPUs utilized          
         1,132,129 context-switches          #    0.000 M/sec                  
             1,175 CPU-migrations            #    0.000 M/sec                  
         6,474,002 page-faults               #    0.002 M/sec                  
 9,611,027,836,737 cycles                    #    2.729 GHz                    
   &lt;not supported&gt; stalled-cycles-frontend 
   &lt;not supported&gt; stalled-cycles-backend  
 6,692,832,113,098 instructions              #    0.70  insns per cycle        
 1,368,218,488,590 branches                  #  388.496 M/sec                  
    14,441,003,383 branch-misses             #    1.06% of all branches        

    1516.316481703 seconds time elapsed

-- boehm --
    3181953.581850 task-clock                #    4.004 CPUs utilized          
           885,443 context-switches          #    0.000 M/sec                  
            11,125 CPU-migrations            #    0.000 M/sec                  
           365,322 page-faults               #    0.000 M/sec                  
 9,239,060,598,468 cycles                    #    2.904 GHz                    
   &lt;not supported&gt; stalled-cycles-frontend 
   &lt;not supported&gt; stalled-cycles-backend  
 5,205,787,599,872 instructions              #    0.56  insns per cycle        
 1,076,025,922,754 branches                  #  338.165 M/sec                  
     5,494,832,381 branch-misses             #    0.51% of all branches        

     794.708046875 seconds time elapsed</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-03 17:48:58 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="https://bugzilla.xamarin.com/attachment.cgi?id=5753&amp;file=test%20revised.tar.bz2" name="attach_5753" title="The new test, faster and corrects excessive allocation">attachment 5753</a> <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5753&amp;file=test%20revised.tar.bz2" title="The new test, faster and corrects excessive allocation">[details]</a></span>
The new test, faster and corrects excessive allocation</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-03 17:50:44 UTC
        </span>

      </div>




<pre class="bz_comment_text">Meant to add to the above test, for 4 cores, the program is ~2x slower with sgen, for 8 cores, approximately 4x slower.</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rodrigo Kumpera</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-03 18:14:58 UTC
        </span>

      </div>




<pre class="bz_comment_text">Jonathan, can you run mono with --stats? This will give us some key metrics between the two GCs that can easily help us discard some possibilities.</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-03 18:57:25 UTC
        </span>

      </div>




<pre class="bz_comment_text">Sure. will give it a spin.</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-03 19:50:58 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="https://bugzilla.xamarin.com/attachment.cgi?id=5754&amp;file=sgen%20stats.log" name="attach_5754" title="sgen run with mono --stats">attachment 5754</a> <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5754&amp;file=sgen%20stats.log" title="sgen run with mono --stats">[details]</a></span>
sgen run with mono --stats</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-03 19:51:38 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="https://bugzilla.xamarin.com/attachment.cgi?id=5755&amp;file=boehm%20stats.log" name="attach_5755" title="boehm run with mono --stats">attachment 5755</a> <a href="https://bugzilla.xamarin.com/attachment.cgi?id=5755&amp;file=boehm%20stats.log" title="boehm run with mono --stats">[details]</a></span>
boehm run with mono --stats</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-03 19:52:19 UTC
        </span>

      </div>




<pre class="bz_comment_text">I loaded the logs of the mono --stats for sgen and boehm respectively</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rodrigo Kumpera</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-04 00:29:40 UTC
        </span>

      </div>




<pre class="bz_comment_text">The log shows exactly what I feared, your workload is not very generational.

The amount of time spent scanning the remembered set dominates minor collection time.

Maybe we're missing some opportunity onto how to better organize the major heap to reduce this
problem, but other than that, there's nothing much that can be done.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-04 09:44:05 UTC
        </span>

      </div>




<pre class="bz_comment_text">By remembered set, I assume these are the collection of objects from a previous generation which have been moved to the main heap?   I assume then that the references in the graph representing the remembered set have to be scanned to determine which objects in the nursery need to be kept?

With regard to "coloring", this seems analogous to what boehm does in marking objects as reachable.  I assume that Boehm also explores the graph from known roots.

Why is this scanning with sgen more expensive than with boehm?    Speculating here, I am going to guess this is because the nurseries are small.   Perhaps with one heap space, Boehm decides to GC less frequently, depending on overall heap growth?

Could we configure the nursery to be much bigger (say 32MB) and reduce the # of GC invocations?  I vaguely recall that you have some ratio of nursery to overall initial heap size, which might be affected.

Finally, if such a reconfiguration of sgen is impossible or not likely to be successful, does the 64bit heap option of Boehm work?   I had tried the large-heap option in the build some versions ago and found that it was not stable.</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-04 09:49:01 UTC
        </span>

      </div>




<pre class="bz_comment_text">I meant to say: Speculating here, I am guessing that because the nurseries are small we do more "object reachable" scans with sgen than with boehm for this application.  It seems in this environment, if the # of live objects in the main heap is large, a frequent nursery cleanup is going to be very expensive.   Doing less frequent GC would be a win in this scenario.</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rodrigo Kumpera</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-08 21:00:28 UTC
        </span>

      </div>




<pre class="bz_comment_text">The remembered set is the set of objects in the old generation that points to objects in the young generation.

When performing a minor collection, all of those old objects must be scanned to have their pointers updated to the new location of the young objects they point.

As the size of this remembered set grows, the less profitable generational collections are. From your longs, it's clear that this is the case since the majority of the collection time is spend scanning them.

One solution for this is to increase the nursery to be large enough so the relative size of the remembered set doesn't overburden it. Another one is to restructure the code to be more amendable to generational collections.

Besides this, sgen minor collections are not parallel, this is what explain why wallclock time is so bigger but cycle count difference is not that big.

My suggestion is that you increase the nursery size until it no longer improves your performance/footprint.
This and enabling the parallel major collection should be enough to produce a reasonable improvement.

Boehm has a very scalable parallel collector, so it might just be the case that sgen's one won't be able to beat it for some time.

Besides that, writing a parallel nursery collector could possibly help here too. We have no current plans for such a thing at Xamarin.</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-01-09 14:03:04 UTC
        </span>

      </div>




<pre class="bz_comment_text">Fair enough.  This is not all that relevant to the mobile business.   I will play with nursery size and see how that helps.   Otherwise have to see whether the large heap boehm is workable.</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Craig Minihan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-11 19:17:47 UTC
        </span>

      </div>




<pre class="bz_comment_text">I know this is closed but: I see something similar to Jonathan's behaviour in my app.

Generally sgen doesn't survive a test pass where Boehm is flawless: much faster and uses less memory.

I'm aiming to run a Mono based app on a 20+ core 256GB+ RAM server. I'm currently using 20GB+ RAM in testing which Boehm is very happy with. It would be nice to have an sgen impl capable of taking this kind of load.

I've run some passes on MS .NET 4.5 and can see their GC is much more aggressive than either Boehm or sgen. Memory usage is lower by about 10-15% as well. On a prod platform with 100GB+ RAM that equates to a lot of RAM.

It this becomes critical to me I'll run some analysis on sgen directly at the C level to see what is going on.</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-11 19:41:35 UTC
        </span>

      </div>




<pre class="bz_comment_text">@Craig.  I never did get a good outcome with any configuration of sgen.   I would hope that could get a version of boehm that can use a larger heap.  As the boehm heap in mono is restricted in size.</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Craig Minihan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-11 19:49:06 UTC
        </span>

      </div>




<pre class="bz_comment_text">What size restriction do you see? I assume you built with --with-large-heap=yes?</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-11 19:51:56 UTC
        </span>

      </div>




<pre class="bz_comment_text">I found --with-large-heap=yes to be unstable in the past, so have not been using it.   Perhaps it works properly now.  Do you use it?   

If i recalls, when a boehm heap tries to exceed 2.xg, a boehm based VM will show a VM error and die (this on regular heap).</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Craig Minihan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-11 20:18:58 UTC
        </span>

      </div>




<pre class="bz_comment_text">I've not seen any stability issues with Boehm with large-heap enabled. I've run the same test on the following platforms:

1) CentOS 6.4 - Mono 64bit - sgen - core dumps
2) CentOS 6.4 - Mono 64bit - boehm - completes
3) Windows - .NET 4.5 64bit - completes
4) OSX 10.8 - Mono 64bit - sgen - completes, but is very slow (could be comms or old cpu here)

I had Boehm running up to 40GB a while back since I have a large source data set - it just takes a while to get to this size so it isn't something I run every day.

I've tested on 3.2.3, 3.2.8 and a cherry picked 3.2.8 branch with all sgen fixes submitted after 3.2.8. They all show the same issue.

I've played with sgen settings via the env variable and can cause it to crash in a couple of seconds of app startup depending on the params I supply. Using defaults it can take anywhere from 2mins - 10mins to crash.</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jonathan Shore</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-11 20:23:42 UTC
        </span>

      </div>




<pre class="bz_comment_text">good to know re: large heap.  I will give it a shot.   You may want to submit your test and see whether it interests the mono folks towards making sgen improvements.   Do you have a large # of (small) objects that are held long term in the main heap?   That is the situation I have.   

The cost of the GC scan on hundreds of thousands of objects is substantial.   I've written java code with similar characteristics, but not had that sort of problem with the GC.  Perhaps needs a 3rd tier in the GC for long-lived objects.</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rodrigo Kumpera</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-14 08:57:09 UTC
        </span>

      </div>




<pre class="bz_comment_text">Jonathan, Sgen has a very similar setup to HotSpot default collectors. We even have an optional aging nursery.

Craig, unless you provide us with backtraces and test case, there's absolutely nothing we can do to fix your crash. GC crashes can look very similar to the untrained eye.</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Craig Minihan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-14 10:03:00 UTC
        </span>

      </div>




<pre class="bz_comment_text">Rodrigo, I've been living with Boehm for the moment - but this isn't something I'm keen on in Prod. The good news: I can crash Mono/Sgen pretty much at will, I get lots of stack traces (from the many threads) always ending with this:

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

Running the same code with the Boehm GC doesn't show the issue. Neither does it show on .NET (running the same IL).

I'd have to scrub the trace and core dumps before I can make them available - I've just not had time for this yet.

The most likely cause of the crashes are:
1) An app level issue which only manifests itself when sgen is active
2) A native lib issue
3) A genuine sgen issue

The reason I ended up commenting on this issue is because the sgen/boehm behaviour I'm seeing is strikingly similar to what Jonathan reported (performance, threads, etc).

I'm running CentOS 6.4 x64 so I can rule out native libs by running on Mono/Windows, Mono/OSX and OpenSUSE which you guys supply the binaries for - these are all on my list. I'll report back with more detail soon.</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Probst</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-14 14:26:24 UTC
        </span>

      </div>




<pre class="bz_comment_text">I got this on OSX with 64 bit:

./run-boehm  7636.94s user 3158.23s system 267% cpu 1:07:14.22 total
./run-sgen  3115.04s user 69.26s system 238% cpu 22:13.73 total

In other words, Boehm is three times slower than SGen.</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Craig Minihan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-14 14:42:49 UTC
        </span>

      </div>




<pre class="bz_comment_text">Mark, I can't see these scripts in mono/mono in github. If you send them to me I can run them thru on my side.

TBH Boehm isn't performing badly at all, so more speed will make me a very happy bunny!</pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Probst</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-14 15:24:36 UTC
        </span>

      </div>




<pre class="bz_comment_text">These scripts just run Jonathan's test case with Boehm and SGen, respectively, no special options at all.

run-boehm:

$HOME/Work/mono/mono/mono/mini/mono-boehm --stats lib/FeatureGeneratorCSVFile.exe -info -config test.xml -out /dev/null

run-sgen:

$HOME/Work/mono/mono/mono/mini/mono-sgen --stats lib/FeatureGeneratorCSVFile.exe -info -config test.xml -out /dev/null</pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rodrigo Kumpera</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-14 15:39:31 UTC
        </span>

      </div>




<pre class="bz_comment_text">The performance issue here is quite straighforward.

Boehm on linux uses a very well tuned parallel collector. 
Sgen doesn't have a parallel nursery collector and the old gen collector parallel mode is not enabled by default.

As Jonathan mentioned above, using the parallel collector did help a bit, but given our implementation is not as optimized as Boehm's it's to be expected to be slower.</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Probst</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-14 17:14:34 UTC
        </span>

      </div>




<pre class="bz_comment_text">As far as I can tell the issue here is quite different.  Here's what I get when running this on Linux/AMD64 (on VMWare):

boehm

Minor GC collections                : 0
Major GC collections                : 1895
Minor GC time                       : 0.00 ms
Major GC time                       : 97706.61 ms

real	15m17.131s
user	56m11.088s
sys	0m53.332s

sgen

Minor GC collections                : 50659
Major GC collections                : 474
Minor GC time                       : 635462.12 ms
Major GC time                       : 93245.80 ms

real	24m21.718s
user	51m24.356s
sys	5m22.612s

SGen uses pretty much the same amount of CPU time as Boehm, but since the workload is very parallel, the many minor GC interruptions, which only utilize one CPU, slow us down a lot.  Using a large nursery, 64MB in this case, ameliorates the problem:

Minor GC collections                : 3085
Major GC collections                : 104
Minor GC time                       : 146279.40 ms
Major GC time                       : 30087.86 ms

real	14m50.709s
user	48m46.860s
sys	0m53.496s</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rodrigo Kumpera</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-14 17:19:22 UTC
        </span>

      </div>




<pre class="bz_comment_text">So it's a matter of lack of user tuning? Awesome.

We should look into adding GC ergonomics for the 64bits VM so it can automatically scale up the nursery size when in performance mode.

Still there's the issue of crashes.</pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Craig Minihan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-14 17:33:12 UTC
        </span>

      </div>




<pre class="bz_comment_text">My results:
* Boehm: 561.470464126 seconds time elapsed
* Sgen: 904.595372987 seconds time elapsed
* Sgen/64m nursery: 561.322264625 seconds time elapsed

So inline with Mark's. I'll run against my crashing test case to see what results we get.</pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Craig Minihan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-14 18:57:44 UTC
        </span>

      </div>




<pre class="bz_comment_text">I'm not seeing a SIGSEGV right now - so I'll revert out some changes to see if I can repl that. I'm seeing this tho:

With sgen defaults:
Error: Garbage collector could not allocate 16384 bytes of memory for major heap section.

The system has 32GB of RAM, at the point this message appeared process memory was &lt;&lt;&lt; 10GB.

And then with MONO_GC_PARAMS=nursery-size=64m, app completes, pressing ctrl-c to terminate gives:
* Assertion at domain.c:1044, condition `chunk' not met
Stacktrace:
* Assertion at mini-exceptions.c:824, condition `unwind_options == MONO_UNWIND_NONE' not met
Aborted (core dumped)

Strangely the amount of memory used by the process under sgen was much higher than Boehm, 9GB to 14GB respectively.

I know this isn't much to go on at the moment - the good news was the app got to these conditions much quicker with a larger nursery size so it will be easier to narrow down over multiple passes.</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Craig Minihan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-15 19:51:22 UTC
        </span>

      </div>




<pre class="bz_comment_text">Ok, so here is a stack trace - caveats at the bottom:

<span class="quote">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>

 Stacktrace:


Native stacktrace:

	/usr/local/bin/mono() [0x4a2a35]
	/usr/local/bin/mono() [0x4fe30b]
	/usr/local/bin/mono() [0x4154f9]
	/lib64/libpthread.so.0() [0x37e060f500]
	/usr/local/bin/mono() [0x5d445b]
	/usr/local/bin/mono() [0x5d4a54]
	/usr/local/bin/mono() [0x5cae5f]
	/usr/local/bin/mono() [0x5cb090]
	/usr/local/bin/mono() [0x5ce5ef]
	/usr/local/bin/mono() [0x5d1424]
	/usr/local/bin/mono() [0x5d15f8]
	/usr/local/bin/mono() [0x5e0e53]
	/usr/local/bin/mono() [0x5e9313]
	/usr/local/bin/mono() [0x5e987c]
	[0x41767f0c]

Debug info from gdb:

Mono support loaded.
[New LWP 18790]
[New LWP 18789]
[New LWP 18788]
[New LWP 18786]
[New LWP 18785]
[New LWP 18784]
[New LWP 18783]
[New LWP 18782]
[New LWP 18781]
[New LWP 18780]
[New LWP 18779]
[New LWP 18778]
[New LWP 18777]
[New LWP 18776]
[New LWP 18775]
[New LWP 18774]
[New LWP 18773]
[New LWP 18772]
[New LWP 18771]
[New LWP 18770]
[New LWP 18760]
[New LWP 18759]
[Thread debugging using libthread_db enabled]
0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  23 Thread 0x7fd2090a3700 (LWP 18759)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  22 Thread 0x7fd208ea2700 (LWP 18760)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  21 Thread 0x7fd208ca1700 (LWP 18770)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  20 Thread 0x7fd208aa0700 (LWP 18771)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  19 Thread 0x7fd20889f700 (LWP 18772)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  18 Thread 0x7fd2085ea700 (LWP 18773)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  17 Thread 0x7fd20839f700 (LWP 18774)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  16 Thread 0x7fd1ebe52700 (LWP 18775)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  15 Thread 0x7fd1ebc51700 (LWP 18776)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  14 Thread 0x7fd1eba50700 (LWP 18777)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  13 Thread 0x7fd1eb84f700 (LWP 18778)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  12 Thread 0x7fd1eb64e700 (LWP 18779)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  11 Thread 0x7fd1eb44d700 (LWP 18780)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  10 Thread 0x7fd1eb24c700 (LWP 18781)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  9 Thread 0x7fd1eb04b700 (LWP 18782)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  8 Thread 0x7fd1ea963700 (LWP 18783)  0x00000037e060f09d in waitpid () from /lib64/libpthread.so.0
  7 Thread 0x7fd1e92ff700 (LWP 18784)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  6 Thread 0x7fd1c3bff700 (LWP 18785)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  5 Thread 0x7fd1c2fff700 (LWP 18786)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  4 Thread 0x7fd1c2dfe700 (LWP 18788)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  3 Thread 0x7fd1c23ff700 (LWP 18789)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
  2 Thread 0x7fd1c21fe700 (LWP 18790)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
* 1 Thread 0x7fd210a8d780 (LWP 18757)  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6

Thread 23 (Thread 0x7fd2090a3700 (LWP 18759)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd2090a2780) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd2090a2780) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060d71e in sem_wait () from /lib64/libpthread.so.0
#5  0x0000000000623ed8 in mono_sem_wait (sem=0x96b360, alertable=1) at mono-semaphore.c:119
#6  0x00000000005a1d85 in finalizer_thread (unused=&lt;value optimized out&gt;) at gc.c:1073
#7  0x000000000057fd77 in start_wrapper_internal (data=0x2276cc0) at threads.c:643
#8  start_wrapper (data=0x2276cc0) at threads.c:688
#9  0x0000000000617e73 in thread_start_routine (args=0x21f1318) at wthreads.c:294
#10 0x0000000000628dd0 in inner_start_thread (arg=0x2276dd0) at mono-threads-posix.c:49
#11 0x00000037e0607851 in start_thread () from /lib64/libpthread.so.0
#12 0x00000037dfee890d in clone () from /lib64/libc.so.6

Thread 22 (Thread 0x7fd208ea2700 (LWP 18760)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd208ea1580) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd208ea1580) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e94a in recv () from /lib64/libpthread.so.0
#5  0x00000000004d02f9 in socket_transport_recv (buf=0x7fd208ea1d80, len=11) at debugger-agent.c:1085
#6  0x00000000004d3fda in transport_recv (arg=&lt;value optimized out&gt;) at debugger-agent.c:1475
#7  debugger_thread (arg=&lt;value optimized out&gt;) at debugger-agent.c:9139
#8  0x0000000000617e73 in thread_start_routine (args=0x21f13e0) at wthreads.c:294
#9  0x0000000000628dd0 in inner_start_thread (arg=0x2278740) at mono-threads-posix.c:49
#10 0x00000037e0607851 in start_thread () from /lib64/libpthread.so.0
#11 0x00000037dfee890d in clone () from /lib64/libc.so.6

Thread 21 (Thread 0x7fd208ca1700 (LWP 18770)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd208ca0340) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd208ca0340) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Double[]"), size=16512, max_length=2060) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd200002540 in ?? ()
#11 0x0000000040803000 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 20 (Thread 0x7fd208aa0700 (LWP 18771)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd208a9f280) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd208a9f280) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Int32[]"), size=8904, max_length=2217) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1f4002540 in ?? ()
#11 0x00007fd208aa06e0 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 19 (Thread 0x7fd20889f700 (LWP 18772)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd20889e300) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd20889e300) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Object[]"), size=14688, max_length=1832) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1f8002540 in ?? ()
#11 0x0000000000000000 in ?? ()

Thread 18 (Thread 0x7fd2085ea700 (LWP 18773)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd2085e9300) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd2085e9300) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Object[]"), size=12936, max_length=1613) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1ec002540 in ?? ()
#11 0x0000000000000000 in ?? ()

Thread 17 (Thread 0x7fd20839f700 (LWP 18774)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd20839e200) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd20839e200) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Object[]"), size=9928, max_length=1237) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1f0002540 in ?? ()
#11 0x000000000000001f in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 16 (Thread 0x7fd1ebe52700 (LWP 18775)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1ebe51340) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1ebe51340) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Double[]"), size=14280, max_length=1781) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1e4002540 in ?? ()
#11 0x0000000040803000 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 15 (Thread 0x7fd1ebc51700 (LWP 18776)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1ebc50280) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1ebc50280) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Collections.Generic.Link[]"), size=14288, max_length=1782) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1dc002540 in ?? ()
#11 0x00007fd1ebc50a60 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 14 (Thread 0x7fd1eba50700 (LWP 18777)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eba4f340) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eba4f340) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Double[]"), size=13968, max_length=1742) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1e0002540 in ?? ()
#11 0x0000000040803000 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 13 (Thread 0x7fd1eb84f700 (LWP 18778)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eb84e340) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eb84e340) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Double[]"), size=13232, max_length=1650) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1d4002540 in ?? ()
#11 0x0000000040803000 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 12 (Thread 0x7fd1eb64e700 (LWP 18779)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eb64d340) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eb64d340) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Double[]"), size=13896, max_length=1733) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1d8002540 in ?? ()
#11 0x0000000040803000 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 11 (Thread 0x7fd1eb44d700 (LWP 18780)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eb44c280) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eb44c280) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Collections.Generic.Link[]"), size=16680, max_length=2081) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1cc002540 in ?? ()
#11 0x00007fd1eb44ca60 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 10 (Thread 0x7fd1eb24c700 (LWP 18781)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eb24b340) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eb24b340) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Double[]"), size=12376, max_length=1543) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1d0002540 in ?? ()
#11 0x0000000040803000 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 9 (Thread 0x7fd1eb04b700 (LWP 18782)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eb04a280) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1eb04a280) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Collections.Generic.Link[]"), size=14040, max_length=1751) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1c4002540 in ?? ()
#11 0x00007fd1eb04aa60 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 8 (Thread 0x7fd1ea963700 (LWP 18783)):
#0  0x00000037e060f09d in waitpid () from /lib64/libpthread.so.0
#1  0x00000000004a2ac8 in mono_handle_native_sigsegv (signal=&lt;value optimized out&gt;, ctx=&lt;value optimized out&gt;) at mini-exceptions.c:2299
#2  0x00000000004fe30b in mono_arch_handle_altstack_exception (sigctx=0x7fd208057ac0, fault_addr=&lt;value optimized out&gt;, stack_ovf=0) at exceptions-amd64.c:908
#3  0x00000000004154f9 in mono_sigsegv_signal_handler (_dummy=11, info=0x7fd208057bf0, context=0x7fd208057ac0) at mini.c:6769
#4  &lt;signal handler called&gt;
#5  sgen_par_object_get_size (ptr=0x7fd2090b9208, obj=0x7fd1c287f018, queue=0x96c260) at ../../mono/metadata/sgen-gc.h:745
#6  sgen_safe_object_get_size (ptr=0x7fd2090b9208, obj=0x7fd1c287f018, queue=0x96c260) at ../../mono/metadata/sgen-gc.h:777
#7  major_copy_or_mark_object (ptr=0x7fd2090b9208, obj=0x7fd1c287f018, queue=0x96c260) at sgen-marksweep.c:1398
#8  0x00000000005d4a54 in major_scan_object (start=&lt;value optimized out&gt;, queue=0x96c260) at sgen-scan-object.h:64
#9  0x00000000005cae5f in sgen_drain_gray_stack (max_objs=-1, ctx=...) at sgen-gc.c:1194
#10 0x00000000005cb090 in precisely_scan_objects_from (worker_data=&lt;value optimized out&gt;, job_data_untyped=0x7fd20ab8cfb0) at sgen-gc.c:1601
#11 scan_from_registered_roots (worker_data=&lt;value optimized out&gt;, job_data_untyped=0x7fd20ab8cfb0) at sgen-gc.c:2055
#12 job_scan_from_registered_roots (worker_data=&lt;value optimized out&gt;, job_data_untyped=0x7fd20ab8cfb0) at sgen-gc.c:2345
#13 0x00000000005ce5ef in major_copy_or_mark_from_roots (old_next_pin_slot=0x7fd1ea96271c, finish_up_concurrent_mark=0, scan_mod_union=0) at sgen-gc.c:3000
#14 0x00000000005d1424 in major_do_collection (reason=0x6fd32e "LOS overflow") at sgen-gc.c:3304
#15 0x00000000005d15f8 in sgen_perform_collection (requested_size=8352, generation_to_collect=1, reason=0x6fd32e "LOS overflow", wait_to_finish=0) at sgen-gc.c:3499
#16 0x00000000005e0e53 in sgen_los_alloc_large_inner (vtable=vtable("System.Int32[]"), size=8352) at sgen-los.c:346
#17 0x00000000005e9313 in mono_gc_alloc_obj_nolock (vtable=vtable("System.Int32[]"), size=&lt;value optimized out&gt;) at sgen-alloc.c:204
#18 0x00000000005e987c in mono_gc_alloc_vector (vtable=vtable("System.Int32[]"), size=8352, max_length=2079) at sgen-alloc.c:491
#19 0x0000000041767f0c in ?? ()
#20 0x0000000040803000 in ?? ()
#21 0x00007fd1c8002540 in ?? ()
#22 0x00007fd1ea962a60 in ?? ()
#23 0x0000000000000000 in ?? ()

Thread 7 (Thread 0x7fd1e92ff700 (LWP 18784)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1e92fe280) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1e92fe280) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Object[]"), size=11288, max_length=1407) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1bc002540 in ?? ()
#11 0x00007fd1e92fea60 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 6 (Thread 0x7fd1c3bff700 (LWP 18785)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1c3bfe340) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1c3bfe340) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Double[]"), size=9736, max_length=1213) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1b8002540 in ?? ()
#11 0x0000000040803000 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 5 (Thread 0x7fd1c2fff700 (LWP 18786)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1c2ffe300) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1c2ffe300) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Object[]"), size=8904, max_length=1109) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1b0002540 in ?? ()
#11 0x0000000000000000 in ?? ()

Thread 4 (Thread 0x7fd1c2dfe700 (LWP 18788)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1c2dfd340) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1c2dfd340) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Double[]"), size=8128, max_length=1012) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1b4002540 in ?? ()
#11 0x0000000040803000 in ?? ()
#12 0x0000000000000000 in ?? ()

Thread 3 (Thread 0x7fd1c23ff700 (LWP 18789)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1c23fe280) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1c23fe280) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Object[]"), size=8872, max_length=1105) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1a8002540 in ?? ()
#11 0x000000000097e560 in sgen_nursery_start ()
#12 0x0000000000000000 in ?? ()

Thread 2 (Thread 0x7fd1c21fe700 (LWP 18790)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1c21fd280) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fd1c21fd280) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e054 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005e9871 in mono_gc_alloc_vector (vtable=vtable("System.Collections.Generic.Link[]"), size=8616, max_length=1073) at sgen-alloc.c:489
#8  0x0000000041767f0c in ?? ()
#9  0x0000000040803000 in ?? ()
#10 0x00007fd1ac002540 in ?? ()
#11 0x000000000097e560 in sgen_nursery_start ()
#12 0x0000000000000000 in ?? ()

Thread 1 (Thread 0x7fd210a8d780 (LWP 18757)):
#0  0x00000037dfe32c54 in sigsuspend () from /lib64/libc.so.6
#1  0x00000000005c76f4 in suspend_thread (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fff306b6a40) at sgen-os-posix.c:113
#2  suspend_handler (sig=&lt;value optimized out&gt;, siginfo=&lt;value optimized out&gt;, context=0x7fff306b6a40) at sgen-os-posix.c:131
#3  &lt;signal handler called&gt;
#4  0x00000037e060e052 in __lll_lock_wait () from /lib64/libpthread.so.0
#5  0x00000037e0609388 in _L_lock_854 () from /lib64/libpthread.so.0
#6  0x00000037e0609257 in pthread_mutex_lock () from /lib64/libpthread.so.0
#7  0x00000000005c9bb9 in mono_gc_register_root_inner (start=0x244e780 "", size=24, descr=0x0, root_type=1) at sgen-gc.c:3924
#8  0x00000000005e8e1c in mono_gc_alloc_fixed (size=24, descr=0x0) at sgen-alloc.c:627
#9  0x00000000005a4273 in new_slot (hash=0x2276d50, key=0x7fd20a441030, value=0x7fd20a592c38, replace=0) at mono-hash.c:85
#10 mono_g_hash_table_insert_replace (hash=0x2276d50, key=0x7fd20a441030, value=0x7fd20a592c38, replace=0) at mono-hash.c:451
#11 0x000000000057de62 in create_thread (thread=0x7fd20a441030, internal=0x7fd20911e950, start_info=0x2457020, threadpool_thread=0, no_detach=0, stack_size=0, throw_on_failure=0) at threads.c:721
#12 0x000000000057f4c0 in ves_icall_System_Threading_Thread_Thread_internal (this=0x7fd20a441030, start=&lt;value optimized out&gt;) at threads.c:1171
#13 0x0000000040f2b964 in ?? ()
#14 0x0000000040803000 in ?? ()
#15 0x000000000226d460 in ?? ()
#16 0x00007fd20a441030 in ?? ()
#17 0x000000000227d290 in ?? ()
#18 0x00007fff306b7350 in ?? ()
#19 0x00007fff306b71c0 in ?? ()
#20 0x00000000021fd920 in ?? ()
#21 0x0000000000000000 in ?? ()

=================================================================
Got a SIGSEGV while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

<span class="quote">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>

This is 100% reproducible with: Mono 3.2.8 (tarball), MonoDevelop 4.2.2 running the process in release mode under the debugger. Every single thread shows sgen in its stack; I guess thread #8 looks the most suspect. The crash happens about 1-2s into the process.

Rodrigo/Mark, this is test code so I'm happy to post here - let me know.</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Miguel de Icaza [MSFT]</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-15 21:55:22 UTC
        </span>

      </div>




<pre class="bz_comment_text">Craig,

If you have a reliable way of crashing with a test code, please post it here.</pre>
    </div>

    <div id="c40" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Craig Minihan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-16 06:10:18 UTC
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="https://bugzilla.xamarin.com/attachment.cgi?id=6590&amp;file=TestMonoGC.tar.gz" name="attach_6590" title="Crashes Mono/sgen when running in MonoDevelop">attachment 6590</a> <a href="https://bugzilla.xamarin.com/attachment.cgi?id=6590&amp;file=TestMonoGC.tar.gz" title="Crashes Mono/sgen when running in MonoDevelop">[details]</a></span>
Crashes Mono/sgen when running in MonoDevelop

This code should cause a crash in Mono when run in the debugger under MonoDevelop.

Platform:
* CentOS 6.4 x64
* Mono 3.2.8 (tarball)
* MonoDevelop 4.2.2
* CPU: i7, 8GB RAM

Build it, run it (in the debugger), crash. There is a strong relationship between the number of threads started and the SIGSEGV, too few and all is well. Setting above ProcessorCount * 3 causes the exception in my env at least.</pre>
    </div>

    <div id="c41" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a href="#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Miguel de Icaza [MSFT]</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-20 20:57:44 UTC
        </span>

      </div>




<pre class="bz_comment_text">I opened a new bug to track the sgen/debugger crash:

#19181</pre>
    </div>




</td>
<td>
</td>
</tr></tbody></table>
  </div>


</form>

<hr>


<br>
</div>

    

  
</body></html>